<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>What’s new – Starsim</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./api/index.html" rel="next">
<link href="./index.html" rel="prev">
<link href=".//assets/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-234273d1456647dabc34a594ac50e507.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-0348920b7671f696dc9078d39bff215e.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-234273d1456647dabc34a594ac50e507.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6b5ea9e9a4b01830bd6d14ec679728af.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-5b3fce9591f609771f3fc6325a03de21.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-6b5ea9e9a4b01830bd6d14ec679728af.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=GTM-NK4K647"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'GTM-NK4K647', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./assets/starsim-logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./whatsnew.html"> 
<span class="menu-text">What’s new</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tutorials.html"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./user_guide.html"> 
<span class="menu-text">User guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conduct.html"> 
<span class="menu-text">Code of conduct</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contributing.html"> 
<span class="menu-text">Contributing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./api/index.html"> 
<span class="menu-text">API reference</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/starsimhub/starsim" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="mailto:info@starsim.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope-at-fill"></i></a>
    <a href="https://starsim-idm.slack.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-slack"></i></a>
    <a href="https://starsim.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-globe"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./whatsnew.html"><strong>What’s new</strong></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Home</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./whatsnew.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><strong>What’s new</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>API reference</strong></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Tutorials</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t1_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T1 - Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t2_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T2 - Building your model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t3_demographics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T3 - Demographics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t4_diseases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T4 - Diseases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t5_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T5 - Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/t6_interventions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">T6 - Interventions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials/solutions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Solutions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>User guide</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/intro_starsim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is Starsim?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/intro_spokes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Starsim “spokes”</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Basic concepts</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/basics_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/basics_sim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Sim object</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/basics_people.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">People, States, and Arrays</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/basics_parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parameters</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_diseases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diseases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_demographics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demographics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_interventions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interventions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_analyzers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyzers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/modules_connectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Connectors</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Workflows</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/workflows_run.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multiple runs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/workflows_calibration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calibration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/workflows_deploy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/workflows_samples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Samples</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Advanced topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time units</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_indexing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced indexing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Random numbers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_profiling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Profiling and debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./user_guide/advanced_nonstandard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonstandard usage</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conduct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Code of conduct</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./contributing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Contributing</strong></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#whats-new" id="toc-whats-new" class="nav-link active" data-scroll-target="#whats-new">What’s new</a>
  <ul class="collapse">
  <li><a href="#version-3.0.0-2025-08-02" id="toc-version-3.0.0-2025-08-02" class="nav-link" data-scroll-target="#version-3.0.0-2025-08-02">Version 3.0.0 (2025-08-02)</a>
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#time" id="toc-time" class="nav-link" data-scroll-target="#time">Time</a></li>
  <li><a href="#distributions" id="toc-distributions" class="nav-link" data-scroll-target="#distributions">Distributions</a></li>
  <li><a href="#sim-and-people-changes" id="toc-sim-and-people-changes" class="nav-link" data-scroll-target="#sim-and-people-changes">Sim and People changes</a></li>
  <li><a href="#module-changes" id="toc-module-changes" class="nav-link" data-scroll-target="#module-changes">Module changes</a></li>
  <li><a href="#debugging-tools" id="toc-debugging-tools" class="nav-link" data-scroll-target="#debugging-tools">Debugging tools</a></li>
  <li><a href="#other-changes" id="toc-other-changes" class="nav-link" data-scroll-target="#other-changes">Other changes</a></li>
  </ul></li>
  <li><a href="#version-2.3.2-2025-07-16" id="toc-version-2.3.2-2025-07-16" class="nav-link" data-scroll-target="#version-2.3.2-2025-07-16">Version 2.3.2 (2025-07-16)</a></li>
  <li><a href="#version-2.3.1-2025-02-25" id="toc-version-2.3.1-2025-02-25" class="nav-link" data-scroll-target="#version-2.3.1-2025-02-25">Version 2.3.1 (2025-02-25)</a></li>
  <li><a href="#version-2.3.0-2025-02-14" id="toc-version-2.3.0-2025-02-14" class="nav-link" data-scroll-target="#version-2.3.0-2025-02-14">Version 2.3.0 (2025-02-14)</a></li>
  <li><a href="#version-2.2.0-2024-11-18" id="toc-version-2.2.0-2024-11-18" class="nav-link" data-scroll-target="#version-2.2.0-2024-11-18">Version 2.2.0 (2024-11-18)</a></li>
  <li><a href="#version-2.1.1-2024-11-08" id="toc-version-2.1.1-2024-11-08" class="nav-link" data-scroll-target="#version-2.1.1-2024-11-08">Version 2.1.1 (2024-11-08)</a></li>
  <li><a href="#version-2.1.0-2024-11-07" id="toc-version-2.1.0-2024-11-07" class="nav-link" data-scroll-target="#version-2.1.0-2024-11-07">Version 2.1.0 (2024-11-07)</a>
  <ul class="collapse">
  <li><a href="#summary-1" id="toc-summary-1" class="nav-link" data-scroll-target="#summary-1">Summary</a></li>
  <li><a href="#time-1" id="toc-time-1" class="nav-link" data-scroll-target="#time-1">Time</a></li>
  <li><a href="#mixing-pools" id="toc-mixing-pools" class="nav-link" data-scroll-target="#mixing-pools">Mixing pools</a></li>
  <li><a href="#other-changes-1" id="toc-other-changes-1" class="nav-link" data-scroll-target="#other-changes-1">Other changes</a></li>
  </ul></li>
  <li><a href="#version-2.0.0-2024-10-01" id="toc-version-2.0.0-2024-10-01" class="nav-link" data-scroll-target="#version-2.0.0-2024-10-01">Version 2.0.0 (2024-10-01)</a>
  <ul class="collapse">
  <li><a href="#summary-2" id="toc-summary-2" class="nav-link" data-scroll-target="#summary-2">Summary</a></li>
  <li><a href="#time-aware-parameters-and-modules" id="toc-time-aware-parameters-and-modules" class="nav-link" data-scroll-target="#time-aware-parameters-and-modules">Time-aware parameters and modules</a></li>
  <li><a href="#module-changes-1" id="toc-module-changes-1" class="nav-link" data-scroll-target="#module-changes-1">Module changes</a></li>
  <li><a href="#state-and-array-changes" id="toc-state-and-array-changes" class="nav-link" data-scroll-target="#state-and-array-changes">State and array changes</a></li>
  <li><a href="#results-changes" id="toc-results-changes" class="nav-link" data-scroll-target="#results-changes">Results changes</a></li>
  <li><a href="#demographics-changes" id="toc-demographics-changes" class="nav-link" data-scroll-target="#demographics-changes">Demographics changes</a></li>
  <li><a href="#computational-changes" id="toc-computational-changes" class="nav-link" data-scroll-target="#computational-changes">Computational changes</a></li>
  <li><a href="#other-changes-2" id="toc-other-changes-2" class="nav-link" data-scroll-target="#other-changes-2">Other changes</a></li>
  <li><a href="#regression-information" id="toc-regression-information" class="nav-link" data-scroll-target="#regression-information">Regression information</a></li>
  </ul></li>
  <li><a href="#version-1.0.3-2024-09-26" id="toc-version-1.0.3-2024-09-26" class="nav-link" data-scroll-target="#version-1.0.3-2024-09-26">Version 1.0.3 (2024-09-26)</a></li>
  <li><a href="#version-1.0.2-2024-09-25" id="toc-version-1.0.2-2024-09-25" class="nav-link" data-scroll-target="#version-1.0.2-2024-09-25">Version 1.0.2 (2024-09-25)</a></li>
  <li><a href="#version-1.0.1-2024-07-22" id="toc-version-1.0.1-2024-07-22" class="nav-link" data-scroll-target="#version-1.0.1-2024-07-22">Version 1.0.1 (2024-07-22)</a></li>
  <li><a href="#version-1.0.0-2024-07-10" id="toc-version-1.0.0-2024-07-10" class="nav-link" data-scroll-target="#version-1.0.0-2024-07-10">Version 1.0.0 (2024-07-10)</a></li>
  <li><a href="#version-0.5.10-2024-07-03" id="toc-version-0.5.10-2024-07-03" class="nav-link" data-scroll-target="#version-0.5.10-2024-07-03">Version 0.5.10 (2024-07-03)</a></li>
  <li><a href="#version-0.5.9-2024-06-30" id="toc-version-0.5.9-2024-06-30" class="nav-link" data-scroll-target="#version-0.5.9-2024-06-30">Version 0.5.9 (2024-06-30)</a></li>
  <li><a href="#version-0.5.8-2024-06-30" id="toc-version-0.5.8-2024-06-30" class="nav-link" data-scroll-target="#version-0.5.8-2024-06-30">Version 0.5.8 (2024-06-30)</a></li>
  <li><a href="#version-0.5.7-2024-06-27" id="toc-version-0.5.7-2024-06-27" class="nav-link" data-scroll-target="#version-0.5.7-2024-06-27">Version 0.5.7 (2024-06-27)</a></li>
  <li><a href="#version-0.5.6-2024-06-22" id="toc-version-0.5.6-2024-06-22" class="nav-link" data-scroll-target="#version-0.5.6-2024-06-22">Version 0.5.6 (2024-06-22)</a></li>
  <li><a href="#version-0.5.5-2024-06-19" id="toc-version-0.5.5-2024-06-19" class="nav-link" data-scroll-target="#version-0.5.5-2024-06-19">Version 0.5.5 (2024-06-19)</a></li>
  <li><a href="#version-0.5.4-2024-06-18" id="toc-version-0.5.4-2024-06-18" class="nav-link" data-scroll-target="#version-0.5.4-2024-06-18">Version 0.5.4 (2024-06-18)</a></li>
  <li><a href="#version-0.5.3-2024-06-10" id="toc-version-0.5.3-2024-06-10" class="nav-link" data-scroll-target="#version-0.5.3-2024-06-10">Version 0.5.3 (2024-06-10)</a></li>
  <li><a href="#version-0.5.2-2024-06-04" id="toc-version-0.5.2-2024-06-04" class="nav-link" data-scroll-target="#version-0.5.2-2024-06-04">Version 0.5.2 (2024-06-04)</a></li>
  <li><a href="#version-0.5.1-2024-05-15" id="toc-version-0.5.1-2024-05-15" class="nav-link" data-scroll-target="#version-0.5.1-2024-05-15">Version 0.5.1 (2024-05-15)</a></li>
  <li><a href="#version-0.5.0-2024-05-14" id="toc-version-0.5.0-2024-05-14" class="nav-link" data-scroll-target="#version-0.5.0-2024-05-14">Version 0.5.0 (2024-05-14)</a>
  <ul class="collapse">
  <li><a href="#summary-3" id="toc-summary-3" class="nav-link" data-scroll-target="#summary-3">Summary</a></li>
  <li><a href="#parameter-changes" id="toc-parameter-changes" class="nav-link" data-scroll-target="#parameter-changes">Parameter changes</a></li>
  <li><a href="#initialization-changes" id="toc-initialization-changes" class="nav-link" data-scroll-target="#initialization-changes">Initialization changes</a></li>
  <li><a href="#module-changes-2" id="toc-module-changes-2" class="nav-link" data-scroll-target="#module-changes-2">Module changes</a></li>
  <li><a href="#people-and-network-changes" id="toc-people-and-network-changes" class="nav-link" data-scroll-target="#people-and-network-changes">People and network changes</a></li>
  <li><a href="#other-changes-3" id="toc-other-changes-3" class="nav-link" data-scroll-target="#other-changes-3">Other changes</a></li>
  </ul></li>
  <li><a href="#version-0.4.0-2024-04-24" id="toc-version-0.4.0-2024-04-24" class="nav-link" data-scroll-target="#version-0.4.0-2024-04-24">Version 0.4.0 (2024-04-24)</a></li>
  <li><a href="#version-0.3.4-2024-04-18" id="toc-version-0.3.4-2024-04-18" class="nav-link" data-scroll-target="#version-0.3.4-2024-04-18">Version 0.3.4 (2024-04-18)</a></li>
  <li><a href="#version-0.3.3-2024-04-16" id="toc-version-0.3.3-2024-04-16" class="nav-link" data-scroll-target="#version-0.3.3-2024-04-16">Version 0.3.3 (2024-04-16)</a></li>
  <li><a href="#version-0.3.2-2024-04-08" id="toc-version-0.3.2-2024-04-08" class="nav-link" data-scroll-target="#version-0.3.2-2024-04-08">Version 0.3.2 (2024-04-08)</a></li>
  <li><a href="#version-0.3.1-2024-03-31" id="toc-version-0.3.1-2024-03-31" class="nav-link" data-scroll-target="#version-0.3.1-2024-03-31">Version 0.3.1 (2024-03-31)</a></li>
  <li><a href="#version-0.3.0-2024-03-30" id="toc-version-0.3.0-2024-03-30" class="nav-link" data-scroll-target="#version-0.3.0-2024-03-30">Version 0.3.0 (2024-03-30)</a>
  <ul class="collapse">
  <li><a href="#new-rngs-distributions" id="toc-new-rngs-distributions" class="nav-link" data-scroll-target="#new-rngs-distributions">New RNGs &amp; distributions</a></li>
  <li><a href="#other-changes-4" id="toc-other-changes-4" class="nav-link" data-scroll-target="#other-changes-4">Other changes</a></li>
  </ul></li>
  <li><a href="#version-0.2.10-2024-03-18" id="toc-version-0.2.10-2024-03-18" class="nav-link" data-scroll-target="#version-0.2.10-2024-03-18">Version 0.2.10 (2024-03-18)</a></li>
  <li><a href="#version-0.2.9-2024-03-18" id="toc-version-0.2.9-2024-03-18" class="nav-link" data-scroll-target="#version-0.2.9-2024-03-18">Version 0.2.9 (2024-03-18)</a></li>
  <li><a href="#version-0.2.8-2024-03-13" id="toc-version-0.2.8-2024-03-13" class="nav-link" data-scroll-target="#version-0.2.8-2024-03-13">Version 0.2.8 (2024-03-13)</a></li>
  <li><a href="#version-0.2.7-2024-03-09" id="toc-version-0.2.7-2024-03-09" class="nav-link" data-scroll-target="#version-0.2.7-2024-03-09">Version 0.2.7 (2024-03-09)</a></li>
  <li><a href="#version-0.2.6-2024-02-29" id="toc-version-0.2.6-2024-02-29" class="nav-link" data-scroll-target="#version-0.2.6-2024-02-29">Version 0.2.6 (2024-02-29)</a></li>
  <li><a href="#version-0.2.5-2024-02-29" id="toc-version-0.2.5-2024-02-29" class="nav-link" data-scroll-target="#version-0.2.5-2024-02-29">Version 0.2.5 (2024-02-29)</a></li>
  <li><a href="#version-0.2.4-2024-02-27" id="toc-version-0.2.4-2024-02-27" class="nav-link" data-scroll-target="#version-0.2.4-2024-02-27">Version 0.2.4 (2024-02-27)</a></li>
  <li><a href="#version-0.2.3-2024-02-26" id="toc-version-0.2.3-2024-02-26" class="nav-link" data-scroll-target="#version-0.2.3-2024-02-26">Version 0.2.3 (2024-02-26)</a></li>
  <li><a href="#version-0.2.2-2024-02-26" id="toc-version-0.2.2-2024-02-26" class="nav-link" data-scroll-target="#version-0.2.2-2024-02-26">Version 0.2.2 (2024-02-26)</a></li>
  <li><a href="#version-0.2.1-2024-02-22" id="toc-version-0.2.1-2024-02-22" class="nav-link" data-scroll-target="#version-0.2.1-2024-02-22">Version 0.2.1 (2024-02-22)</a></li>
  <li><a href="#version-0.2.0-2024-02-15" id="toc-version-0.2.0-2024-02-15" class="nav-link" data-scroll-target="#version-0.2.0-2024-02-15">Version 0.2.0 (2024-02-15)</a></li>
  <li><a href="#version-0.1.8-2024-01-30" id="toc-version-0.1.8-2024-01-30" class="nav-link" data-scroll-target="#version-0.1.8-2024-01-30">Version 0.1.8 (2024-01-30)</a></li>
  <li><a href="#version-0.1.7-2024-01-27" id="toc-version-0.1.7-2024-01-27" class="nav-link" data-scroll-target="#version-0.1.7-2024-01-27">Version 0.1.7 (2024-01-27)</a></li>
  <li><a href="#version-0.1.6-2024-01-23" id="toc-version-0.1.6-2024-01-23" class="nav-link" data-scroll-target="#version-0.1.6-2024-01-23">Version 0.1.6 (2024-01-23)</a></li>
  <li><a href="#version-0.1.5-2024-01-23" id="toc-version-0.1.5-2024-01-23" class="nav-link" data-scroll-target="#version-0.1.5-2024-01-23">Version 0.1.5 (2024-01-23)</a></li>
  <li><a href="#version-0.1.4-2024-01-23" id="toc-version-0.1.4-2024-01-23" class="nav-link" data-scroll-target="#version-0.1.4-2024-01-23">Version 0.1.4 (2024-01-23)</a></li>
  <li><a href="#version-0.1.3-2024-01-22" id="toc-version-0.1.3-2024-01-22" class="nav-link" data-scroll-target="#version-0.1.3-2024-01-22">Version 0.1.3 (2024-01-22)</a></li>
  <li><a href="#version-0.1.2-2024-01-19" id="toc-version-0.1.2-2024-01-19" class="nav-link" data-scroll-target="#version-0.1.2-2024-01-19">Version 0.1.2 (2024-01-19)</a></li>
  <li><a href="#version-0.1.1-2024-01-12" id="toc-version-0.1.1-2024-01-12" class="nav-link" data-scroll-target="#version-0.1.1-2024-01-12">Version 0.1.1 (2024-01-12)</a></li>
  <li><a href="#version-0.1.0-2023-12-10" id="toc-version-0.1.0-2023-12-10" class="nav-link" data-scroll-target="#version-0.1.0-2023-12-10">Version 0.1.0 (2023-12-10)</a></li>
  <li><a href="#version-0.0.8-2023-10-04" id="toc-version-0.0.8-2023-10-04" class="nav-link" data-scroll-target="#version-0.0.8-2023-10-04">Version 0.0.8 (2023-10-04)</a></li>
  <li><a href="#version-0.0.7-2023-09-08" id="toc-version-0.0.7-2023-09-08" class="nav-link" data-scroll-target="#version-0.0.7-2023-09-08">Version 0.0.7 (2023-09-08)</a></li>
  <li><a href="#version-0.0.6-2023-08-30" id="toc-version-0.0.6-2023-08-30" class="nav-link" data-scroll-target="#version-0.0.6-2023-08-30">Version 0.0.6 (2023-08-30)</a></li>
  <li><a href="#version-0.0.5-2023-08-29" id="toc-version-0.0.5-2023-08-29" class="nav-link" data-scroll-target="#version-0.0.5-2023-08-29">Version 0.0.5 (2023-08-29)</a></li>
  <li><a href="#version-0.0.2-2023-06-29" id="toc-version-0.0.2-2023-06-29" class="nav-link" data-scroll-target="#version-0.0.2-2023-06-29">Version 0.0.2 (2023-06-29)</a></li>
  <li><a href="#version-0.0.1-2023-06-22" id="toc-version-0.0.1-2023-06-22" class="nav-link" data-scroll-target="#version-0.0.1-2023-06-22">Version 0.0.1 (2023-06-22)</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/starsimhub/starsim/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>





<section id="whats-new" class="level1">
<h1>What’s new</h1>
<p>All notable changes to the codebase are documented in this file. Changes that may result in differences in model output, or are required in order to run an old parameter set with the current version, are flagged with the term “Regression information”.</p>
<section id="version-3.0.0-2025-08-02" class="level2">
<h2 class="anchored" data-anchor-id="version-3.0.0-2025-08-02">Version 3.0.0 (2025-08-02)</h2>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary">Summary</h3>
<p>Starsim v3 includes a reimplementation of how time is handled, an extensive new suite of debugging tools, and smaller changes, including an extensive user guide in addition to the tutorials. Please also see <code>docs/migration_v2v3</code> for a detailed (and LLM-friendly) migration guide for porting existing Starsim code over to the new version. If a point below says “See the migration guide”, that indicates that additional information (and a conversion script where possible) is provided in that guide. Otherwise, it is (generally) a non-breaking change.</p>
</section>
<section id="time" class="level3">
<h3 class="anchored" data-anchor-id="time">Time</h3>
<p>Time is now based on precise datetime stamps (specifically, <code>pd.Timestamp</code>). In Starsim v3.0, the supported time units are days, weeks, months, and years. Days or years are always handled exactly and weeks and months are defined in terms of them, i.e.&nbsp;a week is exactly 7 days and a month is exactly 1/12th of a year. The following changes have been made to the API:</p>
<ul>
<li>While durations work similarly as in Starsim v2, rates work differently. The base class, <code>ss.Rate</code>, cannot be used directly. Instead, you must use one of the three derived classes. <code>ss.freq()</code> is the closest to <code>ss.rate()</code> in Starsim v2, and is a simple inverse of <code>ss.dur()</code>. <code>ss.per()</code> is the equivalent of <code>ss.rate_prob()</code> in Starsim v2, but is the primary probability-based rate that should be used (e.g.&nbsp;for beta, birth rates, death rates, etc.). Finally, <code>ss.prob()</code> is the equivalent to <code>ss.time_prob()</code> in Starsim v2, but whereas <code>time_prob</code> was preferred in v2, <code>per</code> (equivalent to <code>rate_prob</code> in v2) is preferred in v3.</li>
<li>In addition to these base classes, each of them is available for each time unit. For durations, singletons are available (<code>ss.day</code>), as well as e.g.&nbsp;<code>ss.days()</code>, <code>ss.years()</code> etc. For rates, <code>ss.peryear()</code> is derived from <code>ss.per</code>, while <code>ss.probperyear()</code> is the equivalent for <code>ss.prob</code> and <code>ss.freqperyear()</code> is the equivalent for <code>ss.freq</code>. <code>ss.prob</code> can also be unitless (<code>ss.per</code> and <code>ss.freq</code> cannot be).</li>
<li><code>ss.beta()</code> has been removed; use <code>ss.prob()</code> instead for a literal equivalent, although in most cases <code>ss.per()</code> is preferable, e.g.&nbsp;<code>ss.peryear()</code>.</li>
<li><code>ss.rate()</code> has been removed; use <code>ss.freq()</code> instead for a literal equivalent, although in most cases <code>ss.per()</code> is preferable, e.g.&nbsp;<code>ss.peryear()</code>.</li>
<li><code>unit</code> has been removed as an argument; use <code>dt</code> instead, e.g.&nbsp;<code>ss.Sim(dt=1, unit='years')</code> is now <code>ss.Sim(dt=ss.year)</code> (or <code>ss.Sim(dt='years')</code> or <code>ss.Sim(dt=ss.years(1))</code>).</li>
<li>Although <code>ss.dur()</code> still exists in Starsim v3.0, it is preferable to use named classes instead, e.g.&nbsp;<code>ss.years(3)</code> instead of <code>ss.dur(3, 'years')</code>.</li>
<li><code>ss.Time()</code> is now called <code>ss.Timeline()</code> and its internal calculations are handled differently.</li>
<li><code>ss.time_ratio()</code> has been removed; time unit ratio calculations (e.g.&nbsp;months to years) are now handled internally by timepars.</li>
<li><code>t.abstvec</code> has been removed; in most cases, <code>t.tvec</code> should be used instead (although <code>t.yearvec</code>, <code>t.datevec</code>, or <code>t.timevec</code> may be preferable in some cases).</li>
<li>Multiplication by <code>dt</code> no longer happens automatically; call <code>to_prob()</code> to convert from a timepar to a unitless probability (or <code>to_events()</code> to convert to a number of events instead).</li>
</ul>
<p>For full details, see the migration guide.</p>
</section>
<section id="distributions" class="level3">
<h3 class="anchored" data-anchor-id="distributions">Distributions</h3>
<ul>
<li>Distributions now have a <code>scale_type</code> attribute, which determines how they scale with time: some distributions, like <code>ss.normal()</code>, can be scaled either before or after random numbers are drawn; others, like <code>ss.poisson()</code>, can only be scaled before. See <code>ss.scale_types</code> for details.</li>
<li>Distributions that can be scaled post-draw now take an <code>unit</code> argument, e.g.&nbsp;<code>ss.normal(mean=5, std=2, unit=ss.years(1))</code>. This is equivalent to <code>ss.years(ss.normal(mean=5, std=2))</code> or <code>ss.normal(mean=ss.years(5), std=ss.years(2))</code>. Note that not all distributions can be scaled this way (you will get an error if you try to scale a non-scalable distribution.)</li>
<li>Distributions now have a random-number-safe <code>randround()</code> method</li>
<li>There are two new distributions, <code>ss.beta_dist()</code> and <code>ss.beta_mean()</code> (not called <code>ss.beta()</code> to distinguish from the beta transmissibility parameter).</li>
</ul>
</section>
<section id="sim-and-people-changes" class="level3">
<h3 class="anchored" data-anchor-id="sim-and-people-changes">Sim and People changes</h3>
<ul>
<li>Sims now take an optional <code>modules</code> argument. These are run first, before anything else in the integration loop. If you want, you can supply everything directly as a module, e.g.&nbsp;<code>ss.Sim(modules=[ss.Births(), ss.RandomNet(), ss.SIR()])</code> is equivalent to <code>ss.Sim(demographics=ss.Births(), networks=ss.RandomNet(), diseases=ss.SIR())</code>. You can also add your own custom modules, not based on an existing Starsim module type, and specify the order they are called in.</li>
<li><code>sim.modules</code> has been renamed <code>sim.module_list</code>.</li>
<li><code>ss.People</code> has a new <code>filter()</code> method, which lets you chain operations, e.g.: <code>ppl = sim.people; f = ppl.filter(ppl.female &amp; (ppl.age&gt;5) &amp; ~ppl.sir.infected)</code></li>
<li><code>ss.People</code> has new methods <code>plot()</code> (all variables) and <code>plot_ages()</code> (age pyramid by sex).</li>
</ul>
</section>
<section id="module-changes" class="level3">
<h3 class="anchored" data-anchor-id="module-changes">Module changes</h3>
<section id="base-module-updates" class="level4">
<h4 class="anchored" data-anchor-id="base-module-updates">Base module updates</h4>
<ul>
<li>Module methods have a new decorator, <code>@ss.required()</code>, which flag that it is an error for the method not to be called. This is used to prevent the user from accidentally forgetting to call <code>super().method()</code>.</li>
<li>Modules can now be used like dictionaries for accessing user-defined states, e.g.&nbsp;<code>module['my_custom_state']</code> is an alias for <code>module.my_custom_state</code>.</li>
<li><code>module.states</code> has been renamed <code>module.state_list</code>. <code>module.statesdict</code> has been renamed <code>module.state_dict</code>. There is also a <code>module.auto_state_list</code> property, referring specifically to <code>ss.BoolState</code> attributes.</li>
<li>Built-in modules now have function signatures that look like this example for <code>ss.Births()</code>: <code>def __init__(self, pars=None, rel_death=_, death_rate=_, rate_units=_, **kwargs):</code>. Although <code>_</code> is simply <code>None</code>, this notation is short-hand for indicating that (a) the named arguments are the available parameters for the module, (b) their actual values are set by the <code>define_pars()</code> method.</li>
</ul>
</section>
<section id="changes-to-networks" class="level4">
<h4 class="anchored" data-anchor-id="changes-to-networks">Changes to networks</h4>
<ul>
<li><code>key_dict</code> has been removed from <code>ss.Network()</code>; modify the <code>network.meta</code> dictionary directly instead, e.g.&nbsp;<code>ss.DynamicNetwork</code> has <code>self.meta.dur = ss_float</code> in its <code>__init__()</code> method, while <code>ss.SexualNetwork</code> has <code>self.meta.acts = ss_int</code>.</li>
<li><code>ss.Network()</code> now has <code>plot()</code> and <code>to_edgelist()</code> methods.</li>
<li><code>ss.RandomNet()</code> now only adds “missing” edges, fixing a bug in which the longer the edge duration, the more edges the network had.</li>
<li>There is a new network, <code>ss.RandomSafe()</code>, whch is similar to <code>ss.Random()</code> but random-number safe (at the cost of being slightly slower).</li>
<li>For <code>ss.MixingPool</code>, the argument <code>contacts</code> has been renamed <code>n_contacts</code>.</li>
</ul>
</section>
<section id="changes-to-other-modules" class="level4">
<h4 class="anchored" data-anchor-id="changes-to-other-modules">Changes to other modules</h4>
<ul>
<li>There is a new built-in analyzer <code>ss.dynamics_by_age()</code>.</li>
<li>There is a new built-in connector <code>ss.seasonality()</code>.</li>
<li><code>ss.Births()</code> is now random-number safe.</li>
<li><code>ss.Deaths()</code> now has a default rate of 10 per 1000 people per year (instead of 20). Births is still 20. This means that with <code>demographics=True</code>, the population grows at roughly the correct global average rate.</li>
<li><code>ss.sir_vaccine()</code> has been renamed <code>ss.simple_vx()</code>.</li>
</ul>
</section>
</section>
<section id="debugging-tools" class="level3">
<h3 class="anchored" data-anchor-id="debugging-tools">Debugging tools</h3>
<p>Starsim v3 comes with a new set of tools for debugging (in <code>debugtools.py</code>): both understanding simulations and what is happening at different points in time, and understanding and profiling code performance to find possible improvements to efficiency. These include: - <code>sim.profile()</code>: profiles a run of a sim, showing module by module (and optionally line by line) where most of the time is being spent. See <code>ss.Profile()</code> for details. - <code>ss.Debugger()</code>: steps through one or more simulations, and raises an exception when a particular condition is met (e.g., if the results from two sims start to diverge). - <code>ss.check_requires():</code> use this function to check if a sim contains a required module (e.g., an HIV-syphilis connector would require both HIV and syphilis modules to be present in the sim). - <code>ss.check_version()</code>: for checking which version of Starsim is installed.</p>
<section id="loop-debugging-tools" class="level4">
<h4 class="anchored" data-anchor-id="loop-debugging-tools">Loop debugging tools</h4>
<ul>
<li><code>ss.Loop</code> now has an <code>insert()</code> method that lets you manually insert functions at an arbitrary point in the simulation loop.</li>
<li><code>ss.Loop</code> now has a <code>plot_step_order()</code> method that lets you validate that the steps are being called in the expected order.</li>
</ul>
</section>
<section id="profiling-tests" class="level4">
<h4 class="anchored" data-anchor-id="profiling-tests">Profiling tests</h4>
<ul>
<li>In the tests folder, there is a <code>benchmark_tests.py</code> script for benchmarking the performance of the tests. Each test is also now timed (via the <code>@sc.timer</code> decorator).</li>
<li>There are also various profiling scripts, e.g.&nbsp;<code>profile_sim.py</code>.</li>
<li>Baseline and performance benchmark files have been converted from JSON to YAML.</li>
</ul>
</section>
<section id="mock-functions" class="level4">
<h4 class="anchored" data-anchor-id="mock-functions">Mock functions</h4>
<p>Starsim components are intended to work together as part of an <code>ss.Sim</code> object, which handles initialization and coordination across modules, distributions, time parameters, etc. But sometimes, it’s useful to build a very simple example to test a component in isolation. Starsim v3 comes with “mock” components, which allow you to work with e.g.&nbsp;a module without incorporating it into a full sim. These have the essential structure of the real thing (e.g., <code>sim.t.dt</code>), but without the complexity of the full object. These mock objects are:</p>
<ul>
<li><code>ss.mock_sim()</code>: generates a mock sim; useful for testing modules</li>
<li><code>ss.mock_module()</code>: generates a mock module; useful for testing distributions</li>
<li><code>ss.mock_people()</code>: generates a mock <code>ss.People</code> object; used by <code>ss.mock_sim()</code></li>
<li><code>ss.mock_time()</code>: generates a mock <code>ss.Timeline</code> object; used by <code>ss.mock_sim()</code> and <code>ss.mock_module()</code></li>
</ul>
<p>Distributions now have a <code>mock()</code> method, that allows you to immediately start using them to generate random numbers, e.g.&nbsp;<code>ss.normal(5,2).mock().rvs(10)</code>.</p>
</section>
</section>
<section id="other-changes" class="level3">
<h3 class="anchored" data-anchor-id="other-changes">Other changes</h3>
<section id="file-structure" class="level4">
<h4 class="anchored" data-anchor-id="file-structure">File structure</h4>
<ul>
<li>All diseases except for SIR, SIS, and NCD have been moved to a separate <code>starsim_examples</code> folder. This is installed together with Starsim, but must be imported separately, e.g.&nbsp;<code>import starsim_examples as sse; hiv = sse.HIV()</code> instead of <code>import starsim as ss; hiv = ss.HIV()</code>. See the migration guide for details.</li>
<li><code>ss.register_modules()</code> lets you register external modules as Starsim modules, to allow calling by string; e.g.&nbsp;<code>ss.register_modules(sse)</code> (from above) will let you do <code>ss.Sim(diseases='hiv')</code>, since <code>sse.HIV</code> is registered as a known Starsim module.</li>
<li>Files have been reorganized:
<ul>
<li><code>analyzers.py</code> and <code>connectors.py</code> have been created (split out from <code>modules.py</code>);</li>
<li><code>calibration.py</code> and <code>calib_components.py</code> have been combined into <code>calibration.py</code>;</li>
<li><code>disease.py</code> has been renamed <code>diseases.py</code> and <code>diseases/sir.py</code> and <code>diseases/ncd.py</code> have been incorporated into it;</li>
<li><code>timeline.py</code> has been split out from <code>time.py</code>.</li>
</ul></li>
</ul>
</section>
<section id="plotting" class="level4">
<h4 class="anchored" data-anchor-id="plotting">Plotting</h4>
<ul>
<li>Plotting defaults have been updated; you can use these defaults via <code>with ``ss.style()</code>.</li>
<li>Result plotting has been improved, in terms of module labels and correct x-axis labels.</li>
<li><code>ss.MultiSim()</code> plotting has been improved to display legends correctly.</li>
<li>Plotting arguments are now handled by <code>ss.plot_args()</code>, which will parse different arguments among figure, plot, scatter, and other functions, e.g.&nbsp;<code>ss.plot_args(dpi=150, linewidth=3)</code> will set the figure DPI and the plot line width.</li>
</ul>
</section>
<section id="array-and-results-updates" class="level4">
<h4 class="anchored" data-anchor-id="array-and-results-updates">Array and results updates</h4>
<ul>
<li>Array indexing has been reimplemented, using Numba instead of NumPy for large operations; this should be about 30% faster. An unnecessary array copy operation was also removed, for a further ~50% efficiency gain. (Note that although array indexing is now much faster, it was not typically the slowest step, so “real world” performance gains are closer to 10-20%.)</li>
<li>There is a new class, <code>ss.IntArr</code>, although in most cases <code>ss.FloatArr</code> is still preferred due to better handling of NaNs.</li>
<li><code>ss.State</code> has been renamed to <code>ss.BoolState</code>. See the migration guide for details.</li>
<li><code>ss.options._centralized</code> has been renamed <code>ss.options.single_rng</code>. Although there is a very small performance benefit, use of this option is not recommended.</li>
<li><code>ss.set_seed()</code> has been removed; the seed should be set automatically by the distributions. If you want to set the seed for a custom (not random-number-safe) non-distribution random number, call <code>np.random.seed()</code> manually.</li>
<li>Distributions and modules now define their own <code>shrink()</code> methods (for saving small files). Note that if you define a custom module that stores a lot of data, you may want to define your own <code>shrink()</code> method to remove this data.</li>
<li><code>ss.Result()</code> objects now have <code>disp()</code> and <code>to_str()</code> methods, and they can also be treated as dicts (e.g.&nbsp;<code>res['low']</code> instead of <code>res.low</code>).</li>
<li>You can now create an <code>ss.MultiSim</code> comprised of sims of different lengths; however, the sims will be truncated to be of the same length, and they are <em>not</em> temporally aligned. In general, it is still inadvisable to use <code>msim.reduce()</code> with sims of different lengths.</li>
</ul>
</section>
<section id="new-options" class="level4">
<h4 class="anchored" data-anchor-id="new-options">New options</h4>
<p>Starsim v3 comes with several new options, set via <code>ss.options</code>:</p>
<ul>
<li><code>ss.options.check_method_calls</code>: whether to check that required module methods are called (default <code>True</code>)</li>
<li><code>ss.options.install_fonts</code>: whether to install custom fonts for plotting (default <code>True</code>)</li>
<li><code>ss.options.numba_indexing</code>: threshold at which to switch from NumPy to Numba indexing (default 5000 indices)</li>
<li><code>ss.options.style</code>: plotting style to use; options are “starsim”, “fancy”, “simple”, or any Matplotlib style</li>
<li><code>ss.options.warn_convert</code>: whether to warn when automatically converting time parameters</li>
</ul>
<p><code>ss.options</code> also now has a <code>help</code> method that will print detailed help on a given option or all options, e.g.&nbsp;<code>ss.options.help(detailed=True)</code>.</p>
</section>
<section id="migration-summary" class="level4">
<h4 class="anchored" data-anchor-id="migration-summary">Migration summary</h4>
<ul>
<li>An agentic LLM such as Cursor or Claude Code should be able to perform most of the migrations from v2 to v3 automatically. Tell it to read <code>llms.txt</code>, then <code>docs/migration_v2v3/README.md</code>. However, there will still be a few things to manually double check, especially around time conversions (such as whether you want <code>ss.beta()</code> ported literally to <code>ss.probperyear()</code>, or “upgraded” to <code>ss.peryear()</code>).</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/1008">1008</a></li>
</ul>
</section>
</section>
</section>
<section id="version-2.3.2-2025-07-16" class="level2">
<h2 class="anchored" data-anchor-id="version-2.3.2-2025-07-16">Version 2.3.2 (2025-07-16)</h2>
<ul>
<li>Fix argument passing in <code>Infection.infect</code>. This will be the final Starsim v2.x release.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/1008">1008</a></li>
</ul>
</section>
<section id="version-2.3.1-2025-02-25" class="level2">
<h2 class="anchored" data-anchor-id="version-2.3.1-2025-02-25">Version 2.3.1 (2025-02-25)</h2>
<ul>
<li>Updated <code>ss.Sim.shrink()</code> to remove additional objects, resulting in a smaller sim size.</li>
<li><code>ss.Calibration.save_csv()</code> has been replaced by <code>ss.Calibration.to_df()</code> (to save to a CSV, use <code>ss.Calibration.to_df().to_csv()</code>.</li>
<li><code>ss.Result.shape</code> has been renamed <code>ss.Result._shape</code>, so <code>ss.Result.shape</code> now correctly returns the actual size of the array.</li>
<li>Results by default convert all result keys to lowercase; use <code>keep_case=True</code> to turn off this behavior.</li>
<li>Fixed a bug with an <a href="./api/time.html#starsim.time.date"><code>ss.date</code></a> object converting to a <code>pd.Timestamp</code> upon copy.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/865">865</a></li>
</ul>
</section>
<section id="version-2.3.0-2025-02-14" class="level2">
<h2 class="anchored" data-anchor-id="version-2.3.0-2025-02-14">Version 2.3.0 (2025-02-14)</h2>
<ul>
<li>The calibration class has been completely redesigned. Calibration now relies on “components”, which capture mismatch with a particular data type (e.g., new infections). The new approach also adds additional statistical rigor for calculating mismatches.</li>
<li><code>ss.MixingPool</code> has been updated to be more modular, and behave more like <code>ss.Network</code>; in particular, <code>compute_transmission()</code> rather than <code>step()</code> is called to determine new infections.</li>
<li><code>ss.Result</code> now has a <code>summarize_by</code> argument, which determines how a result should be summarized as a scalar (e.g., mean for a prevalence, sum for a count, last entry for a cumulative count).</li>
<li>Fixed a bug with time parameters incorrectly pulling the parent unit from the Sim, rather than the parent module.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/831">831</a></li>
</ul>
</section>
<section id="version-2.2.0-2024-11-18" class="level2">
<h2 class="anchored" data-anchor-id="version-2.2.0-2024-11-18">Version 2.2.0 (2024-11-18)</h2>
<ul>
<li>Starsim is now available for R! See <a href="https://r.starsim.org" class="uri">https://r.starsim.org</a> for details.</li>
<li>The <code>Calibration</code> class has been completely rewritten. See the calibration tutorial for more information.</li>
<li>A negative binomial distribution is now available as <code>ss.nbinom()</code>.</li>
<li><code>ss.Births()</code> now uses a binomial draw of births per timestep, rather than the expected value.</li>
<li>Added <code>ss.load()</code> and <code>ss.save()</code> functions, and removed <code>ss.Sim.load()</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/778">778</a></li>
</ul>
</section>
<section id="version-2.1.1-2024-11-08" class="level2">
<h2 class="anchored" data-anchor-id="version-2.1.1-2024-11-08">Version 2.1.1 (2024-11-08)</h2>
<ul>
<li>Adds improved Jupyter support for plotting (to prevent plots from appearing twice); you can disable this by setting <code>ss.options.set(jupyter=False)</code>.</li>
<li>Adds <code>auto_plot</code> to <code>Result</code> objects, to indicate if it should appear in <code>sim.plot()</code> by default.</li>
<li>Adds <code>copy()</code> to the Sim and modules.</li>
<li>Networks now store their length on each timestep as a result.</li>
<li>Improves <code>sim.shrink()</code>, with typical size reductions of &gt;99%.</li>
<li>Adds additional plotting options <code>show_module</code> (include the module name in the plot title), <code>show_label</code> (use the simulation label as the figure title), and <code>show_skipped</code> (shows results even if <code>auto_plot=False</code>).</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/745">745</a></li>
</ul>
</section>
<section id="version-2.1.0-2024-11-07" class="level2">
<h2 class="anchored" data-anchor-id="version-2.1.0-2024-11-07">Version 2.1.0 (2024-11-07)</h2>
<section id="summary-1" class="level3">
<h3 class="anchored" data-anchor-id="summary-1">Summary</h3>
<ul>
<li>Time in simulations is now handled by an <code>ss.Time()</code> class, which unifies how time is represented between the <code>Sim</code> and each module.</li>
<li>In addition to networks, there is now a new way of implementing disease transmission via mixing pools.</li>
</ul>
</section>
<section id="time-1" class="level3">
<h3 class="anchored" data-anchor-id="time-1">Time</h3>
<ul>
<li>Time handling now performed by the <code>ss.Time()</code> class. This has inputs similar to before (<code>start</code>, <code>stop</code>, <code>unit</code>, <code>dt</code>, with <code>dur</code> still available as a sim input). However, instead of the previous <code>timevec</code> and <code>abs_tvec</code> arrays, there are now multiple ways of representing time (including <code>datevec</code> and <code>yearvec</code>), regardless of what the inputs were.</li>
<li>Dates are now represented in a native format, <code>ss.date</code>, that is based on <code>pd.Timestamp</code>.</li>
</ul>
</section>
<section id="mixing-pools" class="level3">
<h3 class="anchored" data-anchor-id="mixing-pools">Mixing pools</h3>
<ul>
<li>Adds a new approach to disease transmission called mixing pools. A mixing pool is a “mean field” coupling wherein susceptible agents are exposed to the average infectious agent. The user can create a single mixing pool using the <code>ss.MixingPool</code> class, or create many pools using <code>MixingPools</code>. Such mixing pools could be used to simulate contact matrices, for example as published by Prem et al.</li>
<li>There is a new <code>ss.Route</code> class, which is the base class for <code>ss.Network</code> and <code>ss.MixingPool</code>.</li>
</ul>
</section>
<section id="other-changes-1" class="level3">
<h3 class="anchored" data-anchor-id="other-changes-1">Other changes</h3>
<ul>
<li>Demographic modules have been updated to fix various bugs around different time units.</li>
<li>The method for hashing distribution trace strings into seeds has changed, meaning that results will be stochastically different compared to Starsim v2.0.</li>
<li>Fixed a bug with how timepars were updated in parameters.</li>
<li>There is a new <code>ss.Base</code> class, which both <code>ss.Sim</code> and <code>ss.Module</code> inherit from.</li>
<li>Results now print as a single line rather than the full array. The latter is available as <code>result.disp()</code>.</li>
<li><code>sim.to_df()</code> now works even if different modules have different numbers of timepoints.</li>
<li>The <code>timepars</code> module has been renamed to <code>time</code>.</li>
<li>In demographics modules, <code>units</code> has been renamed <code>rate_units</code>.</li>
<li>There are two new options, <code>ss.options.date_sep</code> and <code>ss.options.license</code>. The former sets the date separator (default <code>.</code>, e.g.&nbsp;<code>2024.04.0.4</code>), and the latter sets if the license prints when Starsim is imported.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/724">724</a></li>
</ul>
</section>
</section>
<section id="version-2.0.0-2024-10-01" class="level2">
<h2 class="anchored" data-anchor-id="version-2.0.0-2024-10-01">Version 2.0.0 (2024-10-01)</h2>
<section id="summary-2" class="level3">
<h3 class="anchored" data-anchor-id="summary-2">Summary</h3>
<p>Version 2.0 contains several major changes. These include: module-specific timesteps and time-aware parameters (including a day/year <code>unit</code> flag for modules, and <code>ss.dur()</code> and <code>ss.rate()</code> classes for parameters), and changes to module types and integration (e.g. renaming <code>update()</code> and <code>apply()</code> methods to <code>step()</code>;).</p>
</section>
<section id="time-aware-parameters-and-modules" class="level3">
<h3 class="anchored" data-anchor-id="time-aware-parameters-and-modules">Time-aware parameters and modules</h3>
<ul>
<li>Added <code>ss.dur()</code>, <code>ss.rate()</code>, and <code>ss.time_prob()</code> classes, for automatic handling of time units in simulations. There are also convenience classes <code>ss.days()</code>, <code>ss.years()</code>, <code>ss.perday()</code>, <code>ss.peryear()</code>, and <code>ss.beta()</code> for special cases of these.</li>
<li><code>ss.dur()</code> and <code>ss.rate()</code>, along with modules and the sim itself, have a <code>unit</code> parameter which can be <code>'day'</code>, <code>'week'</code>, <code>'month'</code>, or <code>'year'</code> (default). Modules now also have their own timestep <code>dt</code>. Different units and timesteps can be mixed and matched. Time parameters have a <code>to()</code> method, e.g.&nbsp;<code>ss.dur(1, 'year').to('day')</code> will return <code>ss.dur(365, unit='day')</code>.</li>
<li>The <code>ss.Sim</code> parameter <code>n_years</code> has been renamed <code>dur</code>; <code>sim.yearvec</code> is now <code>sim.timevec</code>, which can have units of days (usually starting at 0), dates (e.g.&nbsp;<code>'2020-01-01'</code>), or years (e.g.&nbsp;<code>2020</code>). <code>sim.abs_tvec</code> is the translation of <code>sim.timevec</code> as a numeric array starting at 0, using the sim’s units (usually <code>'day'</code> or <code>'year'</code>). For example, if <code>sim.timevec</code> is a list of daily dates from <code>'2022-01-01'</code> to <code>'2022-12-31'</code>, <code>sim.abs_tvec</code> will be <code>np.arange(365)</code>.</li>
<li>Each module also has its own <code>mod.timevec</code>; this can be different from the sim if it defines its own time unit and/or timestep. <code>mod.abs_tvec</code> always starts at 0 and always uses the sim’s unit.</li>
<li>There is a new <code>Loop</code> class which handles the integration loop. You can view the integration plan via <code>sim.loop.to_df()</code> or <code>sim.loop.plot()</code>. You can see how long each part of the sim took with <code>sim.loop.plot_cpu()</code>.</li>
<li>There are more advanced debugging tools. You can run a single sim timestep with <code>sim.run_one_step()</code> (which in turn calls multiple functions), and you can run a single function from the integration loop with <code>sim.loop.run_one_step()</code>.</li>
</ul>
</section>
<section id="module-changes-1" class="level3">
<h3 class="anchored" data-anchor-id="module-changes-1">Module changes</h3>
<ul>
<li>Functionality has been moved from <code>ss.Plugin</code> to <code>ss.Module</code>, and the former has been removed.</li>
<li><code>ss.Connector</code> functionality has been moved to <code>ss.Module</code>. <code>ss.Module</code> objects can be placed anywhere in the list of modules (e.g., in demographics, networks, diseases, interventions), depending on when you want them to execute. However, <code>ss.Connector</code> objects are applied after <code>Disease.step_state()</code> and before <code>Network.step()</code>.</li>
<li>Many of the module methods have been renamed; in particular, all modules now have a <code>step()</code> method, which replaces <code>update()</code> (for demographics and networks), <code>apply()</code> (for interventions and analyzers), and <code>make_new_cases()</code> (for diseases). For both the sim and modules, <code>initialize()</code> has been renamed <code>init()</code>.</li>
<li>All modules are treated the same in the integration loop, except for diseases, which have <code>step_state()</code> and <code>step_die()</code> methods.</li>
<li>The Starsim module <code>states.py</code> has been moved to <code>arrays.py</code>, and <code>network.py</code> has been moved to <code>networks.py</code>.</li>
</ul>
</section>
<section id="state-and-array-changes" class="level3">
<h3 class="anchored" data-anchor-id="state-and-array-changes">State and array changes</h3>
<ul>
<li><code>ss.Arr</code>, <code>ss.TimePar</code>, and <code>ss.Result</code> all inherit from the new class <code>ss.BaseArr</code>, which provides functionality similar to a NumPy array, except all values are stored in <code>arr.values</code> (like a <code>pd.Series</code>).</li>
<li>Whereas before, computations on an <code>ss.Arr</code> usually returned a NumPy array, calculations now usually return the same type. To access the NumPy array, use <code>arr.values</code>.</li>
<li>There is a new <code>ss.State</code> class, which is a subtype of <code>ss.BoolArr</code>. Typically, <code>ss.State</code> is used for boolean disease states, such as <code>infected</code>, <code>susceptible</code>, etc., where you want to automatically generate results (e.g.&nbsp;<code>n_infected</code>). You can continue using <code>ss.BoolArr</code> for other agent attributes that you don’t necessarily want to automatically generate results for, e.g.&nbsp;<code>ever_vaccinated</code>.</li>
</ul>
</section>
<section id="results-changes" class="level3">
<h3 class="anchored" data-anchor-id="results-changes">Results changes</h3>
<ul>
<li>Results are now defined differently. They should be defined in <code>ss.Module.init_results()</code>, not <code>ss.Module.init_pre()</code>. They now take the module name, number of points, and time vector from the parent module. As a result, they are usually initialized via <code>ss.Module.define_results(res1, res2)</code> (as opposed to <code>mod.results += [res1, res2]</code> previously). <code>define_results()</code> automatically adds these properties from the parent module; they can still be defined explicitly if needed however.</li>
<li>Because results now store their own time information, they can be plotted in a self-contained way. Both <code>ss.Result</code> and <code>ss.Results</code> objects now have <code>plot()</code> and <code>to_df()</code> methods.</li>
</ul>
</section>
<section id="demographics-changes" class="level3">
<h3 class="anchored" data-anchor-id="demographics-changes">Demographics changes</h3>
<ul>
<li>Fixed a bug in how results were defined for <code>ss.Births</code> and <code>ss.Deaths</code>.</li>
<li>The <code>ss.Pregnancy</code> module has been significantly rewritten, including: (1) Agents now have a <code>parent</code> which indicates the UID of the parent; (2) Women now track <code>child_uid</code>; (3) On neonatal death, the pregnancy state of the mother is corrected; (4) Pregnancy rates now adjusted for infecund rather than pregnant; (4) Pregnancy now has a burn-in, which defaults to <code>True</code>; (5) Pregnancy has a <code>p_neonatal_death</code> parameter to capture fetal and neonatal death if the mother dies.</li>
<li>Slots now has a minimum, default of 100, to account for small initial population sizes that grow dramatically over time.</li>
</ul>
</section>
<section id="computational-changes" class="level3">
<h3 class="anchored" data-anchor-id="computational-changes">Computational changes</h3>
<ul>
<li>There have been several performance improvements. The default float type is now <code>np.float32</code>. Transmission is now handled by a specialized <code>Infection.compute_transmission()</code> method. Several additional functions now use Numba, including <code>fastmath=True</code>, which leverages Intel’s short vector math library.</li>
<li>A new <code>ss.multi_random()</code> distribution class has been added, that allows random numbers to be generated by two (or more) agents. It largely replaces <code>ss.combine_rands()</code> and is 5-10x faster.</li>
<li>A new <code>ss.gamma()</code> distribution has also been added.</li>
<li>Distributions have a new <code>jump_dt</code> method that jumps by much more than a single state update.</li>
<li><code>ss.parallel()</code> and <code>ss.MultiSim.run()</code> now modify simulations in place by default. Instead of <code>sims = ss.parallel(sim1, sim2).sims; sims[0].plot()</code>, you can now simply do <code>ss.parallel(sim1, sim2); sim1.plot()</code>.</li>
</ul>
</section>
<section id="other-changes-2" class="level3">
<h3 class="anchored" data-anchor-id="other-changes-2">Other changes</h3>
<ul>
<li>Data can now be supplied to a simulation; it will be automatically plotted by <code>sim.plot()</code>.</li>
<li><code>ss.Calibration</code> has been significantly reworked, and now includes more flexible parameter setting, plus plotting (<code>calib.plot_sims()</code> and <code>calib.plot_trend()</code>). It also has a <code>debug</code> argument (which runs in serial rather than paralell), which can be helpful for troubleshooting issues.</li>
<li><code>MultiSim</code> now has display methods <code>brief()</code> (minimal), <code>show()</code> (moderate), and <code>disp</code> (verbose).</li>
<li><code>sim.export_df()</code> has been renamed <code>sim.to_df()</code>.</li>
<li>Most classes now have <code>to_json()</code> methods (which can also export to a dict).</li>
<li>Fixed a bug in how the <code>InfectionLog</code> is added to disease modules.</li>
<li><code>Sim.gitinfo</code> has been replaced with <code>Sim.metadata</code> (which includes git info).</li>
<li><code>Infection.validate_beta()</code> is now applied on every timestep, so changes to beta during the simulation are now honored.</li>
<li><code>sim.get_intervention()</code> and <code>sim.get_analyzer()</code> have been removed; use built-in <code>ndict</code> operations (e.g., the label) to find the object you’re after.</li>
<li><code>requires</code> has been removed from modules, but <code>ss.check_requires()</code> is still available if needed. Call it manually from <code>init_pre()</code> if desired, e.g.&nbsp;a PMTCT intervention might call <code>ss.check_requires(self.sim, ['hiv', 'maternalnet'])</code>.</li>
<li>For networks, <code>contacts</code> has been renamed <code>edges</code> except in cases where it refers to an <em>agent’s</em> contacts. For example, <code>network.contacts</code> has been renamed <code>network.edges</code>, but <code>ss.find_contacts()</code> remains the same.</li>
<li>Networks now have a <code>to_graph()</code> method that exports to NetworkX.</li>
<li><code>ss.diff_sims()</code> can now handle <code>MultiSim</code> objects.</li>
<li><code>Sim._orig_pars</code> has been removed.</li>
<li><code>ss.unique()</code> has been removed.</li>
</ul>
</section>
<section id="regression-information" class="level3">
<h3 class="anchored" data-anchor-id="regression-information">Regression information</h3>
<ul>
<li>Note: the list here covers major changes only; in general, Starsim v1.0 scripts will not be compatible with Starsim v2.0.</li>
<li>Results from Starsim v2.0 will be stochastically (but not statistically) different from Starsim v1.0.</li>
<li>All duration and rate parameters should now be wrapped with <code>ss.dur()</code> and <code>ss.rate()</code>. Events that represent probabilities over time (i.e.&nbsp;hazard rates) can also be wrapped with <code>ss.time_prob()</code>, although this is similar to <code>ss.rate()</code> unless the value is relatively large.</li>
<li><code>ss.Plugin</code> has been removed. Use <code>ss.Module</code> instead.</li>
<li><code>init_results()</code> is now called by <code>init_pre()</code>, and does not need to be called explicitly.</li>
<li><code>default_pars()</code> has been renamed <code>define_pars()</code>.</li>
<li><code>add_states()</code> has been renamed <code>define_states()</code></li>
<li><code>initialize()</code> has been renamed <code>init()</code>.</li>
<li><code>Demographics.update()</code> has been renamed <code>Demographics.step()</code>.</li>
<li><code>Network.update()</code> has been renamed <code>Network.step()</code>.</li>
<li><code>Disease.update_pre()</code> has been renamed <code>Disease.step_state()</code>.</li>
<li><code>Disease.make_new_cases()</code> has been renamed <code>Disease.step()</code>.</li>
<li><code>Disease.update_death()</code> has been renamed <code>Disease.step_die()</code> (which is now called by <code>People.step_die()</code>).</li>
<li><code>Infection._set_cases()</code> has been renamed <code>Infection.set_outcomes()</code>.</li>
<li><code>Intervention.apply(sim)</code> has been renamed <code>Intervention.step()</code>; ditto for <code>Analyzer</code>.</li>
<li><code>Module.step()</code> no longer takes <code>sim</code> as an argument (e.g., replace <code>intervention.apply(sim)</code> with <code>intervention.step()</code>).</li>
<li>All modules now have methods for <code>start_step()</code>, <code>finish_step()</code>, <code>init_results()</code>, and <code>update_results()</code>.</li>
<li><code>Network.contacts</code> has been renamed <code>Network.edges</code>.</li>
<li><code>sim.get_intervention()</code> and <code>sim.get_analyzer()</code> have been removed; simply call directly instead (e.g.&nbsp;replace <code>sim.get_intervention('vaccine')</code> with <code>sim.interventions['vaccine']</code>).</li>
<li><code>requires</code> is no longer an attribute of modules; call the <code>ss.check_requires()</code> function directly if needed.</li>
<li><code>People.resolve_deaths()</code> has been renamed <code>People.check_deaths()</code></li>
<li><code>ss.unique()</code> has been removed.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/626">626</a></li>
</ul>
</section>
</section>
<section id="version-1.0.3-2024-09-26" class="level2">
<h2 class="anchored" data-anchor-id="version-1.0.3-2024-09-26">Version 1.0.3 (2024-09-26)</h2>
<ul>
<li>Fixes a bug in which some intervention parameters (e.g.&nbsp;eligibility) do not get set properly.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/639">639</a></li>
</ul>
</section>
<section id="version-1.0.2-2024-09-25" class="level2">
<h2 class="anchored" data-anchor-id="version-1.0.2-2024-09-25">Version 1.0.2 (2024-09-25)</h2>
<ul>
<li>Fixes a bug in which random numbers drawn from auto-jumped distributions would overlap with random numbers drawn from subsequent timesteps.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/639">639</a></li>
</ul>
</section>
<section id="version-1.0.1-2024-07-22" class="level2">
<h2 class="anchored" data-anchor-id="version-1.0.1-2024-07-22">Version 1.0.1 (2024-07-22)</h2>
<ul>
<li>Adds a new distribution, <code>ss.rand_raw()</code>, that samples raw integers from the random number bit generator, for use with calculating transmission. This version is roughly 20-30% faster than the previous implementation.</li>
<li>Adds interpolation to age-standardized fertility rate (ASFR) data.</li>
<li>Adds flexibility to ART initiation.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/593">593</a></li>
</ul>
</section>
<section id="version-1.0.0-2024-07-10" class="level2">
<h2 class="anchored" data-anchor-id="version-1.0.0-2024-07-10">Version 1.0.0 (2024-07-10)</h2>
<ul>
<li>Official release of Starsim!</li>
<li>Adds a <code>Calibration</code> class, based on <a href="https://optuna.org">Optuna</a>, to facilitate the calibration of Starsim models.</li>
<li>Adds <code>mean()</code>, <code>median()</code>, and <code>plot()</code> methods to <code>MultiSim</code>.</li>
<li>Adds <code>low</code> and <code>high</code> attributes to <code>Result</code> objects.</li>
<li>Adds a <code>flatten()</code> method to <code>Results</code>, allowing nested <code>Results</code> objects to be turned into flat dictionaries.</li>
<li>Removes duplicate UIDs among new infections, and adds a <code>unique()</code> method to <code>ss.uids</code>.</li>
<li>Fixes a bug that prevented <code>ss.lognorm_im()</code> from using callable parameters.</li>
<li>Updates the default <code>Sim</code> string representation to be a single line; the more verbose version is available via <code>sim.disp()</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/581">581</a></li>
</ul>
</section>
<section id="version-0.5.10-2024-07-03" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.10-2024-07-03">Version 0.5.10 (2024-07-03)</h2>
<ul>
<li>Adds two new common-random-number-safe networks. The first is an Erdős-Rényi network that is similar to <code>RandomNet</code> but parameterized differently. The second is a 2D spatial network with connectivity between agents within a given radius; these agents can also optionally move.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/575">575</a></li>
</ul>
</section>
<section id="version-0.5.9-2024-06-30" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.9-2024-06-30">Version 0.5.9 (2024-06-30)</h2>
<ul>
<li>Added a <code>ss.histogram()</code> distribution, which allows generating new random values from an empirical histogram.</li>
<li>When binned age data is provided to specify the initial ages for new agents, the ages are now distributed throughout the year/bin rather than new agents being assigned integer ages</li>
<li>Initial age data is now accepted as a <code>pd.Series</code> rather than a <code>pd.DataFrame</code> where the index corresponds to the age values, thereby avoiding the need for specific dataframe column names to be used to specify the age and value</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/572">572</a></li>
</ul>
</section>
<section id="version-0.5.8-2024-06-30" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.8-2024-06-30">Version 0.5.8 (2024-06-30)</h2>
<ul>
<li>Revert to making infection logging disabled by default. However, the infection log will now always be created so disease subclasses can override logging behaviour where required (e.g., to capture additional metadata)</li>
<li><strong>Backwards-compatibility notes:</strong> Logging has been moved from an argument to <code>Disease</code> to <code>pars</code>. Existing code such as <code>Disease(log=True)</code> should be changed to <code>Disease(pars={'log':True})</code>. The ‘log’ option can be added to the pars passed to any subclass e.g., <code>ss.HIV(pars={...,log=True})</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/573">573</a></li>
</ul>
</section>
<section id="version-0.5.7-2024-06-27" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.7-2024-06-27">Version 0.5.7 (2024-06-27)</h2>
<ul>
<li>Implemented a new <code>ss.combine_rands()</code> function based on a bitwise-XOR, since the previous modulo-based approach could introduce correlations between pairs of agents.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/546">546</a></li>
</ul>
</section>
<section id="version-0.5.6-2024-06-22" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.6-2024-06-22">Version 0.5.6 (2024-06-22)</h2>
<ul>
<li><code>ss.Infection.make_new_cases()</code> now returns the index of the network associated with each transmission event</li>
<li>If a <code>People</code> object is provided to the <code>Arr</code> constructor, the arrays will be pre-initialized to index the current UIDs in the <code>People</code> object. This enables construction of temporary <code>Arr</code> instances that can be used to perform intermediate calculations (e.g., inside <code>Intervention.apply()</code> or within a module update step)</li>
<li>Deprecated <code>Arr(raw=...)</code> argument to simplify initialization, as in practice the <code>raw</code> variable is not directly set, and this update also introduces a new pathway for initializating the <span class="title-ref">raw</span> attribute</li>
<li><code>ss.uids.to_numpy()</code> now returns a view rather than a copy</li>
<li><code>ss.bernoulli.filter()</code> now supports <code>ss.BoolArr</code> as an input, where the filtering will operate on the <code>uids</code> returned by <code>ss.BoolArr.uids</code></li>
<li><code>ss.uids()</code> supports construction from <code>set</code> objects (via <code>np.fromiter()</code>)</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/555">565</a></li>
</ul>
</section>
<section id="version-0.5.5-2024-06-19" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.5-2024-06-19">Version 0.5.5 (2024-06-19)</h2>
<ul>
<li>Added labels to <code>Result</code> and state (<code>Arr</code>) objects.</li>
<li>Added Numba decorator to <code>find_contacts</code> to significantly increase performance.</li>
<li>Fixed bug when comparing <code>uids</code> and <code>BoolArr</code> objects.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/555">562</a></li>
</ul>
</section>
<section id="version-0.5.4-2024-06-18" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.4-2024-06-18">Version 0.5.4 (2024-06-18)</h2>
<ul>
<li>Adjusted <code>RandomNet</code> to avoid connections to unborn agents and use random rounding for half edges</li>
<li>Adds <code>get_analyzers</code> and <code>get_analyzer</code></li>
<li>Refactor how data is pre-processed for births/pregnancy/death rates, giving about a 10% decrease in run time for the STIsim HIV model</li>
<li><code>BoolArr.uids</code> is automatically called when doing set operations on <code>uids</code> with a <code>BoolArr</code></li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/555">555</a></li>
</ul>
</section>
<section id="version-0.5.3-2024-06-10" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.3-2024-06-10">Version 0.5.3 (2024-06-10)</h2>
<ul>
<li><code>ss.uids</code> class implements set operators to facilitate combining or otherwise operating on collections of UIDs</li>
<li><code>FloatArr.isnan</code> and <code>FloatArr.notnan</code> return <code>BoolArr</code> instances rather than UIDs (so as to facilitate logical operations with other <code>BoolArr</code> instances, and to align more closely with <span class="title-ref">np.isnan</span>)</li>
<li><code>Arr.true()</code> and <code>Arr.false()</code> are supported for all <code>Arr</code> subclasses</li>
<li><code>BoolArr.isnan</code> and <code>Boolarr.notnan</code> are also implemented (although since <code>BoolArr</code> cannot store NaN values, these always return <code>False</code> and <code>True</code>, respectively)</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/544">544</a></li>
</ul>
</section>
<section id="version-0.5.2-2024-06-04" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.2-2024-06-04">Version 0.5.2 (2024-06-04)</h2>
<ul>
<li>Renames <code>network.contacts</code> to <code>network.edges</code>.</li>
<li>For modules (including diseases, networks, etc.), renames <code>initialize()</code> to <code>init_pre()</code> and <code>init_vals()</code> to <code>init_post()</code>.</li>
<li>Renames <code>ss.delta()</code> to <code>ss.constant()</code>.</li>
<li>Allows <code>Arr</code> objects to be indexed by integer (which are assumed to be UIDs).</li>
<li>Fixes bug when using callable parameters with <code>ss.lognorm_ex()</code> and <code>ss.lognorm_im()</code>.</li>
<li>Fixes bug when initializing <code>ss.StaticNet()</code>.</li>
<li>Updates default birth rate from 0 to 30 (so <code>demographics=True</code> is meaningful).</li>
<li>Adds <code>min_age</code> and <code>max_age</code> parameters to the <code>Pregnancy</code> module (with defaults 15 and 50 years).</li>
<li>Adds an option for the <code>sir_vaccine</code> to be all-or-nothing instead of leaky.</li>
<li>Updates baseline test from HIV to SIR + SIS.</li>
<li>Fixes issue with infection log not being populated.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/527">527</a></li>
</ul>
</section>
<section id="version-0.5.1-2024-05-15" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.1-2024-05-15">Version 0.5.1 (2024-05-15)</h2>
<ul>
<li>Separates maternal transmission into prenatal and postnatal modules.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/509">509</a></li>
</ul>
</section>
<section id="version-0.5.0-2024-05-14" class="level2">
<h2 class="anchored" data-anchor-id="version-0.5.0-2024-05-14">Version 0.5.0 (2024-05-14)</h2>
<section id="summary-3" class="level3">
<h3 class="anchored" data-anchor-id="summary-3">Summary</h3>
<p>All inputs to the sim and modules now use a <code>ss.Pars()</code> class, which handles updating and validation. It is now not necessary to ever use <code>pars=</code> (although you still can if you want), so what was previously:</p>
<p><code>sim = ss.Sim(pars=dict(diseases='sir', networks='random'))</code></p>
<p>is now just:</p>
<p><code>sim = ss.Sim(diseases='sir', networks='random')</code></p>
<p>Updates happen recursively, so distributions etc. can be flexibly updated.</p>
<p>This has significantly changed how modules are initialized; what was previously:</p>
<pre><code>def __init__(self, pars=None, **kwargs):

    pars = ss.omergeleft(pars,
        dur_inf = 6,
        init_prev = 0.01,
        p_death = 0.01,
        beta = 0.5,
    )

    par_dists = ss.omergeleft(par_dists,
        dur_inf = ss.lognorm_ex,
        init_prev = ss.bernoulli,
        p_death = ss.bernoulli,
    )

    super().__init__(pars=pars, par_dists=par_dists, *args, **kwargs)</code></pre>
<p>is now:</p>
<pre><code>def __init__(self, pars=None, **kwargs):
    super().__init__()
    self.default_pars(
        beta = 0.5,
        init_prev = ss.bernoulli(0.01),
        dur_inf = ss.lognorm_ex(6),
        p_death = ss.bernoulli(0.01),
    )
    self.update_pars(pars, **kwargs)</code></pre>
</section>
<section id="parameter-changes" class="level3">
<h3 class="anchored" data-anchor-id="parameter-changes">Parameter changes</h3>
<ul>
<li>Added a <code>ss.Pars</code> class (and a <code>ss.SimPars</code> subclass) that handles parameter creation, updates, and validation.</li>
<li>Initialization has been moved from <code>sim.py</code> to <code>parameters.py</code>; <code>ss.Sim.convert_plugins()</code> has been replaced by <code>ss.SimPars.convert_modules()</code>.</li>
<li>The key method is <code>ss.Pars.update()</code>, which performs all necessary validation on the parameters being updated.</li>
</ul>
</section>
<section id="initialization-changes" class="level3">
<h3 class="anchored" data-anchor-id="initialization-changes">Initialization changes</h3>
<ul>
<li>Previously, the people were initialized first, then the states were initialized and the values populated, then the modules were initialized, and finally the distributions are initialized. This led to circular logic with the states being initialized based on uninitialized distributions. Now, states and modules are <em>linked</em> to the <code>People</code> and <code>Sim</code> objects, but further initialization is not done at this step. This ensures all distributions are created but not yet used. Next, distributions are initialized. Finally, the initial values are populated, and everything is initialized.</li>
<li>New methods supporting these changes include <code>ss.link_dists()</code>, <code>dist.link_sim()</code>, <code>dist.link_module()</code>, <code>sim.init_vals()</code>, <code>people.init_vals()</code>, <code>module.init_vals()</code>,</li>
</ul>
</section>
<section id="module-changes-2" class="level3">
<h3 class="anchored" data-anchor-id="module-changes-2">Module changes</h3>
<ul>
<li>Whereas modules previously initialized a dict of parameters and then called <code>super().__init__(pars, **kwargs)</code>, they now call <code>super().__init__()</code> first, then <code>self.default_pars(par1=x, par2=y)</code>, then finally <code>self.update_pars(pars, **kwargs)</code>.</li>
<li>What was previously e.g.&nbsp;<code>ss.Module(pars=dict(par=x))</code> is now <code>ss.Module(par=x)</code>.</li>
<li><code>par_dists</code> has been removed; instead, distributions are specified in the default parameters, and are updated via the <code>Pars</code> object.</li>
<li>Modules now contain a link back to the <code>Sim</code> object. This means that all methods that used to have <code>sim</code> as an argument now do not, e.g.&nbsp;<code>self.update()</code> instead of <code>self.update(sim)</code>.</li>
<li><code>ss.module_map()</code> maps different module types to their location in the sim.</li>
<li><code>ss.find_modules()</code> finds all available modules (including subclasses) in Starsim.</li>
<li>Removed <code>ss.dictmerge()</code> and <code>ss.dictmergeleft</code> (now handled by <code>ss.Pars.update()</code>).</li>
<li>Removed <code>ss.get_subclasses()</code> and <code>ss.all_subclasses()</code> (now handled by <code>ss.find_modules()</code>).</li>
<li>Modules can no longer be initialized with a <code>name</code> key; it must be <code>type</code> (e.g.&nbsp;<code>dict(type='sir')</code> rather than <code>dict(name='sir')</code>.</li>
<li>Added <code>to_json()</code> and <code>plot()</code> methods to <code>Module</code>.</li>
<li>Removed <code>connectors.py</code>; connectors still exist but as an empty subclass of <code>Module</code>.</li>
</ul>
</section>
<section id="people-and-network-changes" class="level3">
<h3 class="anchored" data-anchor-id="people-and-network-changes">People and network changes</h3>
<ul>
<li><code>BasePeople</code> has been removed and merged with <code>People</code>.</li>
<li>Time parameters (<code>ti</code>, <code>dt</code>, etc.) have been removed from <code>People</code>. Use <code>sim.ti</code>, <code>sim.dt</code> etc. instead. One consequence of this is that <code>people.request_death()</code> now requires a <code>sim</code> argument. Another is that network methods (e.g.&nbsp;<code>add_pairs()</code>) now take <code>sim</code> arguments instead of <code>people</code> arguments.</li>
<li><code>SexualNetwork</code> is now a subclass of <code>DynamicNetwork</code>.</li>
<li>Removed <code>ss.Networks</code> (now just an <code>ss.ndict</code>).</li>
<li>Network connectors have been removed.</li>
<li><code>Person</code> has been implemented as a slice of <code>sim.people[i]</code>.</li>
<li>There is a new parameter <code>use_aging</code>; this defaults to <code>True</code> if demographic modules are supplied, and <code>False</code> otherwise.</li>
</ul>
</section>
<section id="other-changes-3" class="level3">
<h3 class="anchored" data-anchor-id="other-changes-3">Other changes</h3>
<ul>
<li>Boolean arrays have new methods <code>true()</code>, <code>false()</code>, and <code>split()</code>, which return the UIDs for the <code>True</code> values (alias to <code>arr.uids</code>), <code>False</code> values, and both sets of values, respectively. <code>ss.bernoulli.split()</code> has been added as an alias of <code>ss.bernoulli.filter(both=True)</code>.</li>
<li>All inputs to a sim are now copied by default. To disable, use <code>ss.Sim(..., copy_inputs=False)</code>.</li>
<li>There is a new <code>Plugin</code> class, which contains shared logic for Interventions and Analyzers. It has a <code>from_func()</code>, which will generate an intervention/analyzer from a function.</li>
<li>Diseases no longer have a default value of <code>beta=1</code> assigned; beta must be defined explicitly if being used.</li>
<li>Individual diseases can now be plotted via either e.g.&nbsp;<code>sim.plot('hiv')</code> or <code>sim.diseases.hiv.plot()</code>.</li>
<li>Distributions can be created from dicts via <code>ss.make_dist()</code>.</li>
<li>A new function <code>ss.check_sims_match()</code> will check if the results of two or more simulations match.</li>
<li><code>ndict</code> values can be accessed through a call; e.g.&nbsp;<code>sim.diseases()</code> is equivalent to <code>sim.diseases.values()</code>.</li>
<li>Merged <code>test_dcp.py</code> and <code>test_base.py</code> into <code>test_other.py</code>.</li>
<li>Renamed <code>test_simple.py</code> to <code>test_sim.py</code>.</li>
<li>Renamed <code>test_dists.py</code> to <code>test_randomness.py</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/488">488</a></li>
</ul>
</section>
</section>
<section id="version-0.4.0-2024-04-24" class="level2">
<h2 class="anchored" data-anchor-id="version-0.4.0-2024-04-24">Version 0.4.0 (2024-04-24)</h2>
<ul>
<li>Replace <code>UIDArray</code>, <code>ArrayView</code>, and <code>State</code> with <code>Arr</code>, which has different subclasses for different data types (e.g.&nbsp;<code>FloatArr</code>, <code>BoolArr</code>, and <code>IndexArr</code>). States are usually represented by <code>BoolArr</code> (e.g.&nbsp;<code>sir.infected</code>), while other agent properties are represented by <code>FloatArr</code> (e.g.&nbsp;<code>sir.rel_trans</code>).</li>
<li>Arrays that had previously been represented using an integer data type (e.g.&nbsp;<code>sir.ti_infected</code>) are now also <code>FloatArr</code>, to allow the use of <code>np.nan</code>. Integer arrays are supported via <code>IndexArr</code>, but these are only intended for use for slots and UIDs.</li>
<li><code>Arr</code> objects automatically skip over dead (or otherwise removed) agents; the “active” UIDs are stored in <code>sim.people.auids</code>, which is updated when agents are born or die. This array is linked to each <code>Arr</code>, so that e.g.&nbsp;<code>sim.people.age.mean()</code> will only calculate the mean over alive agents. To access the underlying Numpy array, use <code>sim.people.age.raw</code>.</li>
<li><code>FloatArr</code> has <code>isnan</code>, <code>notnan</code>, and <code>notnanvals</code> properties. <code>BoolArr</code> has logical operations defined. For example, <code>~people.female</code> works, but <code>~people.ti_dead</code> does not; <code>people.ti_dead.notnan</code> works, but <code>people.female.notnan</code> does not.</li>
<li>UIDs used to be NumPy integer arrays; they are now <code>ss.uids</code> objects (which is a class, but is lowercase for consistency with <code>np.array()</code>, which it is functionally similar to). Indexing a state by an integer array rather than <code>ss.uids()</code> now raises an exception, due to the ambiguity involved. To index the underlying array with an integer array, use <code>Arr.raw[int_arr]</code>; to index only the active/alive agents, use <code>Arr.values[int_arr]</code>.</li>
<li>Dead agents are no longer removed, so <code>uid</code> always corresponds to the position in the array. This means that no remapping is necessary, which has a significant performance benefit (roughly 2x faster for large numbers of agents).</li>
<li>Renamed <code>omerge</code> to <code>dictmerge</code> and <code>omergeleft</code> to <code>dictmergeleft</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/456">456</a></li>
</ul>
</section>
<section id="version-0.3.4-2024-04-18" class="level2">
<h2 class="anchored" data-anchor-id="version-0.3.4-2024-04-18">Version 0.3.4 (2024-04-18)</h2>
<ul>
<li>Default duration of edges in <code>ss.RandomNet</code> changed from 1 to 0; this does not matter if <code>dt=1</code>, but does matter with smaller <code>dt</code> values.</li>
<li>Removed <code>ss.HPVNet</code>.</li>
<li><code>new_deaths</code> now counted for cholera.</li>
<li>Crude birth and death rates now take <code>dt</code> into account.</li>
<li>The ability to use a centralized random number generator has been restored via <code>ss.options(_centralized=True)</code>; this option not advised, but can be used for testing.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/473">473</a></li>
</ul>
</section>
<section id="version-0.3.3-2024-04-16" class="level2">
<h2 class="anchored" data-anchor-id="version-0.3.3-2024-04-16">Version 0.3.3 (2024-04-16)</h2>
<ul>
<li>Changed Ebola model transmission logic.</li>
<li>Fixed bug with module names not being preserved with multiple initialization.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/463">463</a></li>
</ul>
</section>
<section id="version-0.3.2-2024-04-08" class="level2">
<h2 class="anchored" data-anchor-id="version-0.3.2-2024-04-08">Version 0.3.2 (2024-04-08)</h2>
<ul>
<li>Change to syphilis model to permit latent transmission.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/starsimhub/starsim/pull/450">450</a></li>
</ul>
</section>
<section id="version-0.3.1-2024-03-31" class="level2">
<h2 class="anchored" data-anchor-id="version-0.3.1-2024-03-31">Version 0.3.1 (2024-03-31)</h2>
<ul>
<li>Added SIS model.</li>
<li>Fixes distribution initialization.</li>
<li>Allows interventions and analyzers to be functions.</li>
<li>Tidies up tests.</li>
<li>Performance improvements in <code>UIDArray</code> (~3x faster for large numbers of agents).</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/428">428</a></li>
</ul>
</section>
<section id="version-0.3.0-2024-03-30" class="level2">
<h2 class="anchored" data-anchor-id="version-0.3.0-2024-03-30">Version 0.3.0 (2024-03-30)</h2>
<section id="new-rngs-distributions" class="level3">
<h3 class="anchored" data-anchor-id="new-rngs-distributions">New RNGs &amp; distributions</h3>
<ul>
<li>Replaces <code>ss.SingleRNG()</code>, <code>ss.MultiRNG()</code>, <code>ss.ScipyDistribution()</code>, and <code>ss.ScipyHistogram()</code> with a single <code>ss.Dist()</code> class. The <code>starsim.random</code> and <code>starsim.distributions</code> submodules have been removed, and <code>starsim.dists</code> has been added.</li>
<li>The <code>ss.Dist</code> class uses <code>np.random.default_rng()</code> rather than <code>scipy.stats</code> by default, although a <code>scipy.stats</code> distribution can be supplied as an alternative. This is up to 4x faster (including, critically, for Bernoulli distributions).</li>
<li>Also removes <code>ss.options.multirng</code> (the new version is equivalent to it being always on).</li>
<li>Removes duplicate logic for transmission (<code>make_new_cases()</code>)</li>
<li>Adds new custom distributions such as <code>ss.choice()</code> and <code>ss.delta()</code>.</li>
<li>These distributions can be called directly, e.g.&nbsp;<code>dist = ss.weibull(c=2); dist(5)</code> will return 5 random variates from a Weibull distribution.</li>
<li>Instead of being manually initialized based on the name, the <code>Sim</code> object is parsed and all distributions will be initialized with a unique identifier based on their place in the object (e.g.&nbsp;<code>sim.diseases.sir.pars.dur_inf</code>), which is used to set their unique seed.</li>
</ul>
</section>
<section id="other-changes-4" class="level3">
<h3 class="anchored" data-anchor-id="other-changes-4">Other changes</h3>
<ul>
<li>This PR also fixes bugs with lognormal parameters, and makes it clear whether the parameters are for the <em>implicit</em> normal distribution (<code>ss.lognorm_im()</code>, the NumPy/SciPy default, equivalent to <code>ss.lognorm_mean()</code> previously) or the “explicit” lognormal distribution (<code>ss.lognorm_ex()</code>, equivalent to <code>ss.lognorm()</code> previously).</li>
<li>Renames <code>ss.dx</code>, <code>ss.tx</code>, <code>ss.vx</code> to<code>ss.Dx</code>, <code>ss.Tx</code>, <code>ss.Vx</code>.</li>
<li>Removed <code>set_numba_seed()</code> as a duplicate of <code>set_seed()</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/392">392</a></li>
</ul>
</section>
</section>
<section id="version-0.2.10-2024-03-18" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.10-2024-03-18">Version 0.2.10 (2024-03-18)</h2>
<ul>
<li>SIR duration of infection now accounts for dt</li>
<li>Reworked sir_vaccine to modify rel_sus instead of moving agents from susceptible to recovered.</li>
<li>n_years no longer necessarily an integer</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/389">389</a></li>
</ul>
</section>
<section id="version-0.2.9-2024-03-18" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.9-2024-03-18">Version 0.2.9 (2024-03-18)</h2>
<ul>
<li>Renames and extends the multirng option in settings, now called ‘rng’, which set how random numbers are handled in Starsim with three options:
<ul>
<li>“centralized” uses the centralized numpy random number generator for all distributions.</li>
<li>“single” uses a separate (SingleRNG) random number generator for each distribution.</li>
<li>“multi” uses a separate (MultiRNG) random number generator for each distribution.</li>
</ul></li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/349">349</a></li>
</ul>
</section>
<section id="version-0.2.8-2024-03-13" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.8-2024-03-13">Version 0.2.8 (2024-03-13)</h2>
<ul>
<li>Add <code>ss.demo()</code> to quickly create a default simulation.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/380">380</a></li>
</ul>
</section>
<section id="version-0.2.7-2024-03-09" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.7-2024-03-09">Version 0.2.7 (2024-03-09)</h2>
<ul>
<li>Update <code>StaticNet</code> with defaults and correct argument passing</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/339">339</a></li>
</ul>
</section>
<section id="version-0.2.6-2024-02-29" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.6-2024-02-29">Version 0.2.6 (2024-02-29)</h2>
<ul>
<li>Make random number streams independent for SIR</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/307">307</a></li>
</ul>
</section>
<section id="version-0.2.5-2024-02-29" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.5-2024-02-29">Version 0.2.5 (2024-02-29)</h2>
<ul>
<li>Improve logic for making new cases with multi-RNG</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/337">337</a></li>
</ul>
</section>
<section id="version-0.2.4-2024-02-27" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.4-2024-02-27">Version 0.2.4 (2024-02-27)</h2>
<ul>
<li>Improve <code>sim.summarize()</code></li>
<li>Improve <code>sim.plot()</code></li>
<li>Improve SIR model defaults</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/320">320</a></li>
</ul>
</section>
<section id="version-0.2.3-2024-02-26" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.3-2024-02-26">Version 0.2.3 (2024-02-26)</h2>
<ul>
<li>Removes <code>STI</code> class</li>
<li>Changes default death rate from units of per person to per thousand people</li>
<li>Allows <code>ss.Sim(demographics=True)</code> to enable births and deaths</li>
<li>Fix pickling of <code>State</code> objects</li>
<li>Rename <code>networks.py</code> to <code>network.py</code>, and fix HIV mortality</li>
<li><em>GitHub info</em>: PRs <a href="https://github.com/amath-idm/stisim/pull/305">305</a>, <a href="https://github.com/amath-idm/stisim/pull/308">308</a>, <a href="https://github.com/amath-idm/stisim/pull/317">317</a></li>
</ul>
</section>
<section id="version-0.2.2-2024-02-26" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.2-2024-02-26">Version 0.2.2 (2024-02-26)</h2>
<ul>
<li>Add the <code>Samples</code> class</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/311">311</a></li>
</ul>
</section>
<section id="version-0.2.1-2024-02-22" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.1-2024-02-22">Version 0.2.1 (2024-02-22)</h2>
<ul>
<li>Only remove dead agents on certain timesteps</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/294">294</a></li>
</ul>
</section>
<section id="version-0.2.0-2024-02-15" class="level2">
<h2 class="anchored" data-anchor-id="version-0.2.0-2024-02-15">Version 0.2.0 (2024-02-15)</h2>
<ul>
<li>Code reorganization, including making <code>networks.py</code> and <code>disease.py</code> to the top level</li>
<li>Networks moved from <code>People</code> to <code>Sim</code></li>
<li>Various classes renamed (e.g.&nbsp;<code>FusedArray</code> to <code>UIDArray</code>, <code>STI</code> to <code>Infection</code>)</li>
<li>Better type checking</li>
<li>Added <code>MultiSim</code></li>
<li>Added cholera, measles, and Ebola</li>
<li>Added vaccination</li>
<li>More flexible inputs</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/235">235</a></li>
</ul>
</section>
<section id="version-0.1.8-2024-01-30" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.8-2024-01-30">Version 0.1.8 (2024-01-30)</h2>
<ul>
<li>Transmission based on number of contacts</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/220">220</a></li>
</ul>
</section>
<section id="version-0.1.7-2024-01-27" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.7-2024-01-27">Version 0.1.7 (2024-01-27)</h2>
<ul>
<li>Performance enhancement for disease transmission, leading to a 10% decrease in runtime.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/217">217</a></li>
</ul>
</section>
<section id="version-0.1.6-2024-01-23" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.6-2024-01-23">Version 0.1.6 (2024-01-23)</h2>
<ul>
<li>Adds template interventions and products for diagnostics and treatment</li>
<li>Adds syphilis screening &amp; treatment interventions</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/210">210</a></li>
</ul>
</section>
<section id="version-0.1.5-2024-01-23" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.5-2024-01-23">Version 0.1.5 (2024-01-23)</h2>
<ul>
<li>Renamed <code>stisim</code> to <code>starsim</code>.</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/200">200</a></li>
</ul>
</section>
<section id="version-0.1.4-2024-01-23" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.4-2024-01-23">Version 0.1.4 (2024-01-23)</h2>
<ul>
<li>Adds a syphilis module</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/206">206</a></li>
</ul>
</section>
<section id="version-0.1.3-2024-01-22" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.3-2024-01-22">Version 0.1.3 (2024-01-22)</h2>
<ul>
<li>Read in age distributions for people initializations</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/205">205</a></li>
</ul>
</section>
<section id="version-0.1.2-2024-01-19" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.2-2024-01-19">Version 0.1.2 (2024-01-19)</h2>
<ul>
<li>Functionality for converting birth &amp; fertility data to a callable parameter within SciPy distributions</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/203">203</a></li>
</ul>
</section>
<section id="version-0.1.1-2024-01-12" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.1-2024-01-12">Version 0.1.1 (2024-01-12)</h2>
<ul>
<li>Improving performance of MultiRNG</li>
<li>Now factoring the timestep, <code>dt</code>, into transmission calculations</li>
<li><em>GitHub info</em>: PRs <a href="https://github.com/amath-idm/stisim/pull/204">204</a></li>
</ul>
</section>
<section id="version-0.1.0-2023-12-10" class="level2">
<h2 class="anchored" data-anchor-id="version-0.1.0-2023-12-10">Version 0.1.0 (2023-12-10)</h2>
<ul>
<li>Allows SciPy distributions to be used as parameters</li>
<li>Optionally use multiple random number streams and other tricks to maintain coherence between simulations</li>
<li>Adding functionality to convert death rate data to a callable parameter within a SciPy distribution</li>
<li><em>GitHub info</em>: PRs <a href="https://github.com/amath-idm/stisim/pull/170">170</a> and <a href="https://github.com/amath-idm/stisim/pull/202">202</a></li>
</ul>
</section>
<section id="version-0.0.8-2023-10-04" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.8-2023-10-04">Version 0.0.8 (2023-10-04)</h2>
<ul>
<li>Enable removing people from simulations following death</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/121">121</a></li>
</ul>
</section>
<section id="version-0.0.7-2023-09-08" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.7-2023-09-08">Version 0.0.7 (2023-09-08)</h2>
<ul>
<li>Refactor distributions to use new Distribution class</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/112">112</a></li>
</ul>
</section>
<section id="version-0.0.6-2023-08-30" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.6-2023-08-30">Version 0.0.6 (2023-08-30)</h2>
<ul>
<li>Changes agent IDs from index-based to UID-based</li>
<li>Allows states to store their own data and live within modules</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/88">88</a></li>
</ul>
</section>
<section id="version-0.0.5-2023-08-29" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.5-2023-08-29">Version 0.0.5 (2023-08-29)</h2>
<ul>
<li>Refactor file structure</li>
<li><em>GitHub info</em>: PRs <a href="https://github.com/amath-idm/stisim/pull/77">77</a> and <a href="https://github.com/amath-idm/stisim/pull/86">86</a></li>
</ul>
</section>
<section id="version-0.0.2-2023-06-29" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.2-2023-06-29">Version 0.0.2 (2023-06-29)</h2>
<ul>
<li>Adds in basic Starsim functionality</li>
<li><em>GitHub info</em>: PR <a href="https://github.com/amath-idm/stisim/pull/17">17</a></li>
</ul>
</section>
<section id="version-0.0.1-2023-06-22" class="level2">
<h2 class="anchored" data-anchor-id="version-0.0.1-2023-06-22">Version 0.0.1 (2023-06-22)</h2>
<ul>
<li>Initial version.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="**Home**">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><strong>Home</strong></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./api/index.html" class="pagination-link" aria-label="**API reference**">
        <span class="nav-page-text"><strong>API reference</strong></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>The docs were built for Starsim v3.0.0 (2025-08-02).<br>© 2023–2025, Gates Foundation. All rights reserved. <a href="https://www.gatesfoundation.org/Privacy-and-Cookies-Notice">Privacy and Cookies Notice</a> | <a href="https://www.gatesfoundation.org/Terms-of-Use">Terms of Use</a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/starsimhub/starsim/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/starsimhub/starsim">
      <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:info@starsim.org">
      <i class="bi bi-envelope-at-fill" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://starsim.org/">
      <i class="bi bi-globe" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>